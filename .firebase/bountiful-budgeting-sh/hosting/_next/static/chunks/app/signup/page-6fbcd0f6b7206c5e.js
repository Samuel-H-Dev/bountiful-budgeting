(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{9301:function(e,t,s){Promise.resolve().then(s.bind(s,8047))},8047:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(9268),a=s(6006),l=s(6008),r=s(9556),o=s(3603),i=s(3516),c=s(5708),d=s(8870);function u(){let[e,t]=(0,a.useState)(),[s,u]=(0,a.useState)(),[m,g]=(0,a.useState)(),{handleLogin:h,user:x}=(0,a.useContext)(r.AuthContext);return(0,a.useEffect)(()=>{x&&x&&(0,l.redirect)("/")},[x]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{backgroundImage:"url('../../images/loginImg.jpg')"},className:"absolute top-0 right-0 bottom-0 left-0 lg:bg-[length:110%_105%] md:bg-[length:150%_105%] bg-[length:305%_105%] bg-blue-400 object-center h-[105%] ",children:(0,n.jsx)("div",{className:"my-auto w-full",children:(0,n.jsxs)("div",{className:"  mt-[10%] mx-auto w-11/12 md:w-1/2",children:[(0,n.jsx)("div",{className:"flex justify-center pt-12 md:justify-start md:pl-12 md:-mb-24"}),(0,n.jsx)(o.Z,{h1:!0,size:60,className:"text-center",color:"#00000095",children:" Bountiful Budgeting  "}),(0,n.jsx)(i.Z,{}),(0,n.jsxs)("div",{className:"px-8 pt-8 rounded-lg my-auto bg-cyan-500 bg-opacity-80 mx-auto lg:px-32",children:[(0,n.jsx)("p",{className:"text-3xl mx-auto mt-10",children:"Signup"}),(0,n.jsx)(i.Z,{y:.5}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("https://bountiful-budgeting-api.web.app/signup",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:s,password:m})}).then(e=>e.json()).then(e=>{if(e.message){t(e.message);return}h(e)}).catch(e=>t(e.message))},className:"flex flex-col pt-3",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(c.ZP,{name:"email",labelLeft:"Email",width:"100%",onChange:e=>u(e.target.value)})}),(0,n.jsxs)("div",{className:"flex flex-col pt-4 mb-8",children:[(0,n.jsx)("div",{className:"flex  ",children:(0,n.jsx)(c.ZP.Password,{name:"password",labelLeft:"Password",width:"100%",onChange:e=>g(e.target.value)})}),e&&(0,n.jsx)("div",{classNameName:"bg-red-200 border-red-600 text-red-600 border-l-4 p-4 mt-4",children:(0,n.jsx)("p",{children:e})})]}),(0,n.jsx)(d.ZP,{auto:!0,type:"submit",color:"gradient",children:"Submit"})]}),(0,n.jsx)("div",{className:"pt-12 pb-12 text-center",children:(0,n.jsxs)("p",{children:["Already a memeber?",(0,n.jsx)("a",{href:"login",className:"font-semibold ml-1 underline",children:"Login here."})]})})]})]})})})})}},9556:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthContext:function(){return l},AuthProvider:function(){return r}});var n=s(9268),a=s(6006);let l=(0,a.createContext)();function r(e){let{children:t}=e,[s,r]=(0,a.useState)(),[o,i]=(0,a.useState)();return(0,a.useEffect)(()=>{if(!s){let e=sessionStorage.getItem("user"),t=sessionStorage.getItem("token");console.log("Session Storage",s),e&&r(JSON.parse(e)),t&&i(t)}},[]),(0,n.jsx)(l.Provider,{value:{user:s,token:o,setUser:r,setToken:i,handleLogin:e=>{console.log("data recived by handle login ",e),console.log("data set in token ",e.token),r(e.user),i(e.token),sessionStorage.setItem("user",JSON.stringify(e.user)),sessionStorage.setItem("token",e.token)},handleLogout:()=>{r(),i(),sessionStorage.clear()}},children:t})}}},function(e){e.O(0,[379,253,961,744],function(){return e(e.s=9301)}),_N_E=e.O()}]);